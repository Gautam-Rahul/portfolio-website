import{r as l,j as e,L as O,B as k,Q as V,P as x,e as F,M as S,w as A,i as d}from"./index-8Mfrto6g.js";const m="http://localhost:5000/api",$=()=>{const[N,u]=l.useState([]),[y,v]=l.useState(!0),[D,o]=l.useState(null),[b,h]=l.useState(!1),[c,p]=l.useState(!1),[i,j]=l.useState(null),[w,g]=l.useState(null);l.useEffect(()=>{(async()=>{try{v(!0);const{data:a}=await d.get(`${m}/resume/all`);a.success&&u(a.resumes)}catch(a){console.error("Error fetching resumes:",a),o("Failed to load resumes. Please try again later.")}finally{v(!1)}})()},[]);const C=s=>{s.target.files.length>0&&j(s.target.files[0])},U=async s=>{var a,t;if(s.preventDefault(),!i){o("Please select a PDF file to upload");return}if(i.type!=="application/pdf"){o("Only PDF files are allowed");return}try{h(!0),o(null);const r=new FormData;if(r.append("resume",i),(await d.post(`${m}/resume/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})).data.success){const{data:n}=await d.get(`${m}/resume/all`);u(n.resumes),j(null),document.getElementById("resume-file").value=""}}catch(r){console.error("Error uploading resume:",r),o(((t=(a=r.response)==null?void 0:a.data)==null?void 0:t.message)||"Failed to upload resume. Please try again.")}finally{h(!1)}},R=async s=>{var a,t;try{p(!0),(await d.put(`${m}/resume/activate/${s}`)).data.success&&u(f=>f.map(n=>({...n,isActive:n._id===s})))}catch(r){console.error("Error setting active resume:",r),o(((t=(a=r.response)==null?void 0:a.data)==null?void 0:t.message)||"Failed to set active resume. Please try again.")}finally{p(!1)}},E=async s=>{var a,t;try{p(!0),(await d.delete(`${m}/resume/${s}`)).data.success&&u(f=>f.filter(n=>n._id!==s))}catch(r){console.error("Error deleting resume:",r),o(((t=(a=r.response)==null?void 0:a.data)==null?void 0:t.message)||"Failed to delete resume. Please try again.")}finally{g(null),p(!1)}},M=s=>{const a={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(s).toLocaleDateString(void 0,a)};return y?e.jsxDEV(O,{},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:139,columnNumber:23},void 0):e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-2xl font-bold mb-2 text-gray-900 dark:text-white",children:"Manage Resume"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:143,columnNumber:7},void 0),e.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Upload and manage your resume files"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:146,columnNumber:7},void 0),D&&e.jsxDEV("div",{className:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 p-4 rounded-lg mb-6",children:e.jsxDEV("p",{children:D},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:153,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:152,columnNumber:9},void 0),e.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Upload New Resume"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:159,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:U,className:"space-y-4",children:[e.jsxDEV("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV(k,{className:"mx-auto h-12 w-12 text-gray-400"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:166,columnNumber:15},void 0),e.jsxDEV("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Upload a PDF file of your resume"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:167,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:165,columnNumber:13},void 0),e.jsxDEV("input",{type:"file",id:"resume-file",accept:"application/pdf",onChange:C,className:"block w-full text-sm text-gray-900 dark:text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 dark:file:bg-blue-900/20 file:text-blue-700 dark:file:text-blue-300 hover:file:bg-blue-100 dark:hover:file:bg-blue-800/30"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:172,columnNumber:13},void 0),i&&e.jsxDEV("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400",children:["Selected file: ",i.name," (",Math.round(i.size/1024)," KB)"]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:181,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:164,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-end",children:e.jsxDEV("button",{type:"submit",disabled:!i||b,className:`btn btn-primary ${!i||b?"opacity-70 cursor-not-allowed":""}`,children:b?"Uploading...":e.jsxDEV(e.Fragment,{children:[e.jsxDEV(V,{className:"mr-2"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:195,columnNumber:19},void 0)," Upload Resume"]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:194,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:188,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:187,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:163,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:158,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[e.jsxDEV("h2",{className:"text-xl font-semibold p-6 border-b border-gray-200 dark:border-gray-700 text-gray-800 dark:text-gray-200",children:"Resume History"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:205,columnNumber:9},void 0),N.length>0?e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Filename"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:214,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Uploaded At"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:217,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:220,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:223,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:213,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:212,columnNumber:15},void 0),e.jsxDEV("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:N.map(s=>e.jsxDEV("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-750",children:[e.jsxDEV("td",{className:"px-4 py-4",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(k,{className:"flex-shrink-0 h-5 w-5 text-gray-500 dark:text-gray-400 mr-3"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:233,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.filename},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:234,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:232,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:231,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 py-4 text-sm text-gray-500 dark:text-gray-400",children:M(s.createdAt)},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:239,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 py-4",children:s.isActive?e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400",children:[e.jsxDEV(x,{className:"mr-1"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:245,columnNumber:27},void 0)," Active"]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:244,columnNumber:25},void 0):e.jsxDEV("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Inactive"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:248,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:242,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsxDEV("div",{className:"flex justify-end space-x-2",children:[e.jsxDEV("a",{href:`${m}${s.path}`,download:!0,className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300","aria-label":"Download resume",children:e.jsxDEV(F,{},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:261,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:255,columnNumber:25},void 0),!s.isActive&&e.jsxDEV("button",{onClick:()=>R(s._id),disabled:c,className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300","aria-label":"Set as active resume",children:e.jsxDEV(x,{},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:271,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:265,columnNumber:27},void 0),!s.isActive&&e.jsxDEV("button",{onClick:()=>g(s._id),disabled:c,className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300","aria-label":"Delete resume",children:e.jsxDEV(S,{},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:282,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:276,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:254,columnNumber:23},void 0),w===s._id&&e.jsxDEV("div",{className:"mt-2 bg-red-50 dark:bg-red-900/20 p-2 rounded text-left",children:[e.jsxDEV("p",{className:"text-xs text-red-700 dark:text-red-400 mb-2",children:"Are you sure you want to delete this resume?"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:290,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex space-x-2 justify-end",children:[e.jsxDEV("button",{onClick:()=>g(null),className:"px-2 py-1 text-xs bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600",children:[e.jsxDEV(A,{className:"inline mr-1"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:298,columnNumber:31},void 0)," Cancel"]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:294,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>E(s._id),className:"px-2 py-1 text-xs bg-red-500 text-white rounded hover:bg-red-600",disabled:c,children:[e.jsxDEV(x,{className:"inline mr-1"},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:305,columnNumber:31},void 0)," ",c?"Deleting...":"Confirm"]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:300,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:293,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:289,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:253,columnNumber:21},void 0)]},s._id,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:230,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:228,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:211,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:210,columnNumber:11},void 0):e.jsxDEV("div",{className:"p-6 text-center",children:e.jsxDEV("p",{className:"text-gray-500 dark:text-gray-400",children:"No resumes uploaded yet. Use the form above to upload your first resume."},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:318,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:317,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:204,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/rahul/OneDrive/Desktop/portfolio webite/client/src/pages/admin/ManageResume.jsx",lineNumber:142,columnNumber:5},void 0)};export{$ as default};
//# sourceMappingURL=ManageResume-CSeNHFWd.js.map
