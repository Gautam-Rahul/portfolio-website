{"version":3,"file":"Dashboard-B7krqBuk.js","sources":["../../src/pages/admin/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { FaProjectDiagram, FaFileAlt, FaEnvelope, FaCalendarAlt } from 'react-icons/fa';\r\nimport Loader from '../../components/Loader';\r\n\r\nconst API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api';\r\n\r\nconst Dashboard = () => {\r\n  const [stats, setStats] = useState({\r\n    projects: 0,\r\n    messages: {\r\n      total: 0,\r\n      unread: 0\r\n    },\r\n    resumes: 0\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  \r\n  // Fetch dashboard stats\r\n  useEffect(() => {\r\n    const fetchStats = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // Fetch projects count\r\n        const projectsResponse = await axios.get(`${API_URL}/projects`);\r\n        \r\n        // Fetch messages stats\r\n        const messagesResponse = await axios.get(`${API_URL}/contact`);\r\n        const unreadCount = await axios.get(`${API_URL}/contact/unread-count`);\r\n        \r\n        // Fetch resumes count\r\n        const resumesResponse = await axios.get(`${API_URL}/resume/all`);\r\n        \r\n        setStats({\r\n          projects: projectsResponse.data.count || 0,\r\n          messages: {\r\n            total: messagesResponse.data.count || 0,\r\n            unread: unreadCount.data.count || 0\r\n          },\r\n          resumes: resumesResponse.data.count || 0\r\n        });\r\n      } catch (err) {\r\n        console.error('Error fetching dashboard stats:', err);\r\n        setError('Failed to load dashboard data');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchStats();\r\n  }, []);\r\n  \r\n  if (loading) return <Loader />;\r\n  \r\n  if (error) {\r\n    return (\r\n      <div className=\"p-6 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg\">\r\n        <p>{error}</p>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <div>\r\n      <h1 className=\"text-2xl font-bold mb-2 text-gray-900 dark:text-white\">\r\n        Admin Dashboard\r\n      </h1>\r\n      <p className=\"text-gray-600 dark:text-gray-400 mb-8\">\r\n        Overview of your portfolio website\r\n      </p>\r\n      \r\n      {/* Stats Cards */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-10\">\r\n        {/* Projects Card */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\">\r\n          <div className=\"flex justify-between items-start\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">Total Projects</p>\r\n              <h3 className=\"text-3xl font-bold text-gray-900 dark:text-white\">{stats.projects}</h3>\r\n            </div>\r\n            <div className=\"p-3 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400\">\r\n              <FaProjectDiagram size={20} />\r\n            </div>\r\n          </div>\r\n          <Link \r\n            to=\"/admin/projects\" \r\n            className=\"mt-4 text-sm text-blue-600 dark:text-blue-400 inline-block hover:underline\"\r\n          >\r\n            Manage projects →\r\n          </Link>\r\n        </div>\r\n        \r\n        {/* Messages Card */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\">\r\n          <div className=\"flex justify-between items-start\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">Messages</p>\r\n              <h3 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\r\n                {stats.messages.total}\r\n                {stats.messages.unread > 0 && (\r\n                  <span className=\"ml-2 text-sm bg-red-500 text-white px-2 py-1 rounded-full\">\r\n                    {stats.messages.unread} new\r\n                  </span>\r\n                )}\r\n              </h3>\r\n            </div>\r\n            <div className=\"p-3 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400\">\r\n              <FaEnvelope size={20} />\r\n            </div>\r\n          </div>\r\n          <Link \r\n            to=\"/admin/messages\" \r\n            className=\"mt-4 text-sm text-blue-600 dark:text-blue-400 inline-block hover:underline\"\r\n          >\r\n            View messages →\r\n          </Link>\r\n        </div>\r\n        \r\n        {/* Resume Card */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\">\r\n          <div className=\"flex justify-between items-start\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">Resumes</p>\r\n              <h3 className=\"text-3xl font-bold text-gray-900 dark:text-white\">{stats.resumes}</h3>\r\n            </div>\r\n            <div className=\"p-3 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400\">\r\n              <FaFileAlt size={20} />\r\n            </div>\r\n          </div>\r\n          <Link \r\n            to=\"/admin/resume\" \r\n            className=\"mt-4 text-sm text-blue-600 dark:text-blue-400 inline-block hover:underline\"\r\n          >\r\n            Manage resume →\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Quick Actions */}\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8\">\r\n        <h2 className=\"text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200\">\r\n          Quick Actions\r\n        </h2>\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n          <Link\r\n            to=\"/admin/projects\"\r\n            className=\"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors duration-200 flex items-center gap-3\"\r\n          >\r\n            <FaProjectDiagram className=\"text-blue-500\" />\r\n            <span className=\"font-medium text-gray-800 dark:text-gray-200\">Add New Project</span>\r\n          </Link>\r\n          <Link\r\n            to=\"/admin/resume\"\r\n            className=\"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors duration-200 flex items-center gap-3\"\r\n          >\r\n            <FaFileAlt className=\"text-blue-500\" />\r\n            <span className=\"font-medium text-gray-800 dark:text-gray-200\">Upload New Resume</span>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Activity Log (Placeholder) */}\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\">\r\n        <h2 className=\"text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200\">\r\n          Recent Activity\r\n        </h2>\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex items-start gap-4\">\r\n            <div className=\"p-2 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400\">\r\n              <FaCalendarAlt size={14} />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-gray-800 dark:text-gray-200\">You logged in to the admin panel</p>\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">Just now</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard; "],"names":["API_URL","Dashboard","stats","setStats","useState","loading","setLoading","error","setError","useEffect","projectsResponse","axios","messagesResponse","unreadCount","resumesResponse","err","jsx","Loader","jsxs","FaProjectDiagram","Link","FaEnvelope","FaFileAlt","FaCalendarAlt"],"mappings":"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"}