{"version":3,"mappings":"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","names":["MountedMapsContext","React.createContext","arePointsEqual","a","b","ax","ay","bx","by","deepEqual","i","aKeys","bKeys","key","cloneTransform","tr","newTransform","syncProjection","src","dest","srcProjection","destProjection","transformToViewState","applyViewStateToTransform","props","v","changed","zoom","bearing","pitch","center","refProps","normalizeStyle","style","layerIndex","layer","layers","normalizedLayer","layerRef","propName","DEFAULT_STYLE","pointerEvents","cameraEvents","otherEvents","settingNames","handlerNames","Mapbox","MapClass","container","e","cb","oldProps","settingsChanged","sizeChanged","viewStateChanged","that","map","oldContainer","resizeObserver","initialViewState","mapStyle","mapOptions","getAccessTokenFromEnv","viewState","getContext","renderMap","arg","runRenderTaskQueue","fireEvent","eventName","children","renderTransform","nextProps","triggerEvents","isMoving","deferredEvents","currProps","setter","styleDiffing","options","_a","_b","newValue","oldValue","point","interactiveLayerIds","eventType","wasHovering","features","isHovering","baseFire","event","properties","accessToken","match","define_process_env_default","skipMethods","createRef","mapInstance","result","lnglat","geometry","getMethodNames","obj","proto","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","globalSettings","setGlobals","mapLib","RTLTextPlugin","error","MapContext","Map","ref","defaultLib","mountedMapsContext","useContext","setMapInstance","useState","containerRef","useRef","contextValue","isMounted","mapbox","module","mapboxgl","onError","useImperativeHandle","useMemo","CHILD_CONTAINER_STYLE","React.createElement","unitlessNumber","applyReactStyle","element","styles","value","Marker","thisRef","marker","hasChildren","React.Children","el","mk","evt","longitude","latitude","offset","draggable","popup","rotation","rotationAlignment","pitchAlignment","createPortal","memo","forwardRef","getClassList","className","Popup","pp","onClose","prevClassList","nextClassList","useControl","onCreate","arg1","arg2","arg3","context","ctrl","opts","onAdd","onRemove","AttributionControl","FullscreenControl","GeolocateControl","gc","setupUI","args","NavigationControl","ScaleControl","propsRef","prevProps","__vitePreload","React.forwardRef","_Map","MAPBOX_TOKEN","Contact","formData","setFormData","loading","setLoading","setError","success","setSuccess","mapViewState","handleChange","name","prev","handleSubmit","api","err","jsxs","jsx","FaEnvelope","FaPhoneAlt","FaMapMarkerAlt","Fragment","FaPaperPlane"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],"sources":["../../node_modules/react-map-gl/dist/esm/components/use-map.js","../../node_modules/react-map-gl/dist/esm/utils/deep-equal.js","../../node_modules/react-map-gl/dist/esm/utils/transform.js","../../node_modules/react-map-gl/dist/esm/utils/style-utils.js","../../node_modules/react-map-gl/dist/esm/mapbox/mapbox.js","../../node_modules/react-map-gl/dist/esm/mapbox/create-ref.js","../../node_modules/react-map-gl/dist/esm/utils/use-isomorphic-layout-effect.js","../../node_modules/react-map-gl/dist/esm/utils/set-globals.js","../../node_modules/react-map-gl/dist/esm/components/map.js","../../node_modules/react-map-gl/dist/esm/utils/apply-react-style.js","../../node_modules/react-map-gl/dist/esm/components/marker.js","../../node_modules/react-map-gl/dist/esm/components/popup.js","../../node_modules/react-map-gl/dist/esm/components/use-control.js","../../node_modules/react-map-gl/dist/esm/components/attribution-control.js","../../node_modules/react-map-gl/dist/esm/components/fullscreen-control.js","../../node_modules/react-map-gl/dist/esm/components/geolocate-control.js","../../node_modules/react-map-gl/dist/esm/components/navigation-control.js","../../node_modules/react-map-gl/dist/esm/components/scale-control.js","../../node_modules/react-map-gl/dist/esm/exports-mapbox.js","../../src/pages/Contact.jsx"],"sourcesContent":["import * as React from 'react';\nimport { useState, useCallback, useMemo, useContext } from 'react';\nimport { MapContext } from './map';\nexport const MountedMapsContext = React.createContext(null);\nexport const MapProvider = props => {\n    const [maps, setMaps] = useState({});\n    const onMapMount = useCallback((map, id = 'default') => {\n        setMaps(currMaps => {\n            if (id === 'current') {\n                throw new Error(\"'current' cannot be used as map id\");\n            }\n            if (currMaps[id]) {\n                throw new Error(`Multiple maps with the same id: ${id}`);\n            }\n            return { ...currMaps, [id]: map };\n        });\n    }, []);\n    const onMapUnmount = useCallback((id = 'default') => {\n        setMaps(currMaps => {\n            if (currMaps[id]) {\n                const nextMaps = { ...currMaps };\n                delete nextMaps[id];\n                return nextMaps;\n            }\n            return currMaps;\n        });\n    }, []);\n    return (React.createElement(MountedMapsContext.Provider, { value: {\n            maps,\n            onMapMount,\n            onMapUnmount\n        } }, props.children));\n};\nexport function useMap() {\n    var _a;\n    const maps = (_a = useContext(MountedMapsContext)) === null || _a === void 0 ? void 0 : _a.maps;\n    const currentMap = useContext(MapContext);\n    const mapsWithCurrent = useMemo(() => {\n        return { ...maps, current: currentMap === null || currentMap === void 0 ? void 0 : currentMap.map };\n    }, [maps, currentMap]);\n    return mapsWithCurrent;\n}\n//# sourceMappingURL=use-map.js.map","/**\n * Compare two points\n * @param a\n * @param b\n * @returns true if the points are equal\n */\nexport function arePointsEqual(a, b) {\n    const ax = Array.isArray(a) ? a[0] : a ? a.x : 0;\n    const ay = Array.isArray(a) ? a[1] : a ? a.y : 0;\n    const bx = Array.isArray(b) ? b[0] : b ? b.x : 0;\n    const by = Array.isArray(b) ? b[1] : b ? b.y : 0;\n    return ax === bx && ay === by;\n}\n/* eslint-disable complexity */\n/**\n * Compare any two objects\n * @param a\n * @param b\n * @returns true if the objects are deep equal\n */\nexport function deepEqual(a, b) {\n    if (a === b) {\n        return true;\n    }\n    if (!a || !b) {\n        return false;\n    }\n    if (Array.isArray(a)) {\n        if (!Array.isArray(b) || a.length !== b.length) {\n            return false;\n        }\n        for (let i = 0; i < a.length; i++) {\n            if (!deepEqual(a[i], b[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    else if (Array.isArray(b)) {\n        return false;\n    }\n    if (typeof a === 'object' && typeof b === 'object') {\n        const aKeys = Object.keys(a);\n        const bKeys = Object.keys(b);\n        if (aKeys.length !== bKeys.length) {\n            return false;\n        }\n        for (const key of aKeys) {\n            if (!b.hasOwnProperty(key)) {\n                return false;\n            }\n            if (!deepEqual(a[key], b[key])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=deep-equal.js.map","import { deepEqual } from './deep-equal';\n/**\n * Make a copy of a transform\n * @param tr\n */\nexport function cloneTransform(tr) {\n    const newTransform = tr.clone();\n    // Work around mapbox bug - this value is not assigned in clone(), only in resize()\n    newTransform.pixelsToGLUnits = tr.pixelsToGLUnits;\n    return newTransform;\n}\n/**\n * Copy projection from one transform to another. This only applies to mapbox-gl transforms\n * @param src the transform to copy projection settings from\n * @param dest to transform to copy projection settings to\n */\nexport function syncProjection(src, dest) {\n    if (!src.getProjection) {\n        return;\n    }\n    const srcProjection = src.getProjection();\n    const destProjection = dest.getProjection();\n    if (!deepEqual(srcProjection, destProjection)) {\n        dest.setProjection(srcProjection);\n    }\n}\n/**\n * Capture a transform's current state\n * @param transform\n * @returns descriptor of the view state\n */\nexport function transformToViewState(tr) {\n    return {\n        longitude: tr.center.lng,\n        latitude: tr.center.lat,\n        zoom: tr.zoom,\n        pitch: tr.pitch,\n        bearing: tr.bearing,\n        padding: tr.padding\n    };\n}\n/* eslint-disable complexity */\n/**\n * Mutate a transform to match the given view state\n * @param transform\n * @param viewState\n * @returns true if the transform has changed\n */\nexport function applyViewStateToTransform(tr, props) {\n    const v = props.viewState || props;\n    let changed = false;\n    if ('zoom' in v) {\n        const zoom = tr.zoom;\n        tr.zoom = v.zoom;\n        changed = changed || zoom !== tr.zoom;\n    }\n    if ('bearing' in v) {\n        const bearing = tr.bearing;\n        tr.bearing = v.bearing;\n        changed = changed || bearing !== tr.bearing;\n    }\n    if ('pitch' in v) {\n        const pitch = tr.pitch;\n        tr.pitch = v.pitch;\n        changed = changed || pitch !== tr.pitch;\n    }\n    if (v.padding && !tr.isPaddingEqual(v.padding)) {\n        changed = true;\n        tr.padding = v.padding;\n    }\n    if ('longitude' in v && 'latitude' in v) {\n        const center = tr.center;\n        // @ts-ignore\n        tr.center = new center.constructor(v.longitude, v.latitude);\n        changed = changed || center !== tr.center;\n    }\n    return changed;\n}\n//# sourceMappingURL=transform.js.map","const refProps = ['type', 'source', 'source-layer', 'minzoom', 'maxzoom', 'filter', 'layout'];\n// Prepare a map style object for diffing\n// If immutable - convert to plain object\n// Work around some issues in older styles that would fail Mapbox's diffing\nexport function normalizeStyle(style) {\n    if (!style) {\n        return null;\n    }\n    if (typeof style === 'string') {\n        return style;\n    }\n    if ('toJS' in style) {\n        style = style.toJS();\n    }\n    if (!style.layers) {\n        return style;\n    }\n    const layerIndex = {};\n    for (const layer of style.layers) {\n        layerIndex[layer.id] = layer;\n    }\n    const layers = style.layers.map(layer => {\n        let normalizedLayer = null;\n        if ('interactive' in layer) {\n            normalizedLayer = Object.assign({}, layer);\n            // Breaks style diffing :(\n            // @ts-ignore legacy field not typed\n            delete normalizedLayer.interactive;\n        }\n        // Style diffing doesn't work with refs so expand them out manually before diffing.\n        // @ts-ignore legacy field not typed\n        const layerRef = layerIndex[layer.ref];\n        if (layerRef) {\n            normalizedLayer = normalizedLayer || Object.assign({}, layer);\n            // @ts-ignore\n            delete normalizedLayer.ref;\n            // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/deref.js\n            for (const propName of refProps) {\n                if (propName in layerRef) {\n                    normalizedLayer[propName] = layerRef[propName];\n                }\n            }\n        }\n        return normalizedLayer || layer;\n    });\n    // Do not mutate the style object provided by the user\n    return { ...style, layers };\n}\n//# sourceMappingURL=style-utils.js.map","import { transformToViewState, applyViewStateToTransform, cloneTransform, syncProjection } from '../utils/transform';\nimport { normalizeStyle } from '../utils/style-utils';\nimport { deepEqual } from '../utils/deep-equal';\nconst DEFAULT_STYLE = { version: 8, sources: {}, layers: [] };\nconst pointerEvents = {\n    mousedown: 'onMouseDown',\n    mouseup: 'onMouseUp',\n    mouseover: 'onMouseOver',\n    mousemove: 'onMouseMove',\n    click: 'onClick',\n    dblclick: 'onDblClick',\n    mouseenter: 'onMouseEnter',\n    mouseleave: 'onMouseLeave',\n    mouseout: 'onMouseOut',\n    contextmenu: 'onContextMenu',\n    touchstart: 'onTouchStart',\n    touchend: 'onTouchEnd',\n    touchmove: 'onTouchMove',\n    touchcancel: 'onTouchCancel'\n};\nconst cameraEvents = {\n    movestart: 'onMoveStart',\n    move: 'onMove',\n    moveend: 'onMoveEnd',\n    dragstart: 'onDragStart',\n    drag: 'onDrag',\n    dragend: 'onDragEnd',\n    zoomstart: 'onZoomStart',\n    zoom: 'onZoom',\n    zoomend: 'onZoomEnd',\n    rotatestart: 'onRotateStart',\n    rotate: 'onRotate',\n    rotateend: 'onRotateEnd',\n    pitchstart: 'onPitchStart',\n    pitch: 'onPitch',\n    pitchend: 'onPitchEnd'\n};\nconst otherEvents = {\n    wheel: 'onWheel',\n    boxzoomstart: 'onBoxZoomStart',\n    boxzoomend: 'onBoxZoomEnd',\n    boxzoomcancel: 'onBoxZoomCancel',\n    resize: 'onResize',\n    load: 'onLoad',\n    render: 'onRender',\n    idle: 'onIdle',\n    remove: 'onRemove',\n    data: 'onData',\n    styledata: 'onStyleData',\n    sourcedata: 'onSourceData',\n    error: 'onError'\n};\nconst settingNames = [\n    'minZoom',\n    'maxZoom',\n    'minPitch',\n    'maxPitch',\n    'maxBounds',\n    'projection',\n    'renderWorldCopies'\n];\nconst handlerNames = [\n    'scrollZoom',\n    'boxZoom',\n    'dragRotate',\n    'dragPan',\n    'keyboard',\n    'doubleClickZoom',\n    'touchZoomRotate',\n    'touchPitch'\n];\n/**\n * A wrapper for mapbox-gl's Map class\n */\nexport default class Mapbox {\n    constructor(MapClass, props, container) {\n        // mapboxgl.Map instance\n        this._map = null;\n        // Internal states\n        this._internalUpdate = false;\n        this._inRender = false;\n        this._hoveredFeatures = null;\n        this._deferredEvents = {\n            move: false,\n            zoom: false,\n            pitch: false,\n            rotate: false\n        };\n        this._onEvent = (e) => {\n            // @ts-ignore\n            const cb = this.props[otherEvents[e.type]];\n            if (cb) {\n                cb(e);\n            }\n            else if (e.type === 'error') {\n                console.error(e.error); // eslint-disable-line\n            }\n        };\n        this._onPointerEvent = (e) => {\n            if (e.type === 'mousemove' || e.type === 'mouseout') {\n                this._updateHover(e);\n            }\n            // @ts-ignore\n            const cb = this.props[pointerEvents[e.type]];\n            if (cb) {\n                if (this.props.interactiveLayerIds && e.type !== 'mouseover' && e.type !== 'mouseout') {\n                    e.features = this._hoveredFeatures || this._queryRenderedFeatures(e.point);\n                }\n                cb(e);\n                delete e.features;\n            }\n        };\n        this._onCameraEvent = (e) => {\n            if (!this._internalUpdate) {\n                // @ts-ignore\n                const cb = this.props[cameraEvents[e.type]];\n                if (cb) {\n                    cb(e);\n                }\n            }\n            if (e.type in this._deferredEvents) {\n                this._deferredEvents[e.type] = false;\n            }\n        };\n        this._MapClass = MapClass;\n        this.props = props;\n        this._initialize(container);\n    }\n    get map() {\n        return this._map;\n    }\n    get transform() {\n        return this._renderTransform;\n    }\n    setProps(props) {\n        const oldProps = this.props;\n        this.props = props;\n        const settingsChanged = this._updateSettings(props, oldProps);\n        if (settingsChanged) {\n            this._createShadowTransform(this._map);\n        }\n        const sizeChanged = this._updateSize(props);\n        const viewStateChanged = this._updateViewState(props, true);\n        this._updateStyle(props, oldProps);\n        this._updateStyleComponents(props, oldProps);\n        this._updateHandlers(props, oldProps);\n        // If 1) view state has changed to match props and\n        //    2) the props change is not triggered by map events,\n        // it's driven by an external state change. Redraw immediately\n        if (settingsChanged || sizeChanged || (viewStateChanged && !this._map.isMoving())) {\n            this.redraw();\n        }\n    }\n    static reuse(props, container) {\n        const that = Mapbox.savedMaps.pop();\n        if (!that) {\n            return null;\n        }\n        const map = that.map;\n        // When reusing the saved map, we need to reparent the map(canvas) and other child nodes\n        // intoto the new container from the props.\n        // Step 1: reparenting child nodes from old container to new container\n        const oldContainer = map.getContainer();\n        container.className = oldContainer.className;\n        while (oldContainer.childNodes.length > 0) {\n            container.appendChild(oldContainer.childNodes[0]);\n        }\n        // Step 2: replace the internal container with new container from the react component\n        // @ts-ignore\n        map._container = container;\n        // With maplibre-gl as mapLib, map uses ResizeObserver to observe when its container resizes.\n        // When reusing the saved map, we need to disconnect the observer and observe the new container.\n        // Step 3: telling the ResizeObserver to disconnect and observe the new container\n        // @ts-ignore\n        const resizeObserver = map._resizeObserver;\n        if (resizeObserver) {\n            resizeObserver.disconnect();\n            resizeObserver.observe(container);\n        }\n        // Step 4: apply new props\n        that.setProps({ ...props, styleDiffing: false });\n        map.resize();\n        const { initialViewState } = props;\n        if (initialViewState) {\n            if (initialViewState.bounds) {\n                map.fitBounds(initialViewState.bounds, { ...initialViewState.fitBoundsOptions, duration: 0 });\n            }\n            else {\n                that._updateViewState(initialViewState, false);\n            }\n        }\n        // Simulate load event\n        if (map.isStyleLoaded()) {\n            map.fire('load');\n        }\n        else {\n            map.once('styledata', () => map.fire('load'));\n        }\n        // Force reload\n        // @ts-ignore\n        map._update();\n        return that;\n    }\n    /* eslint-disable complexity,max-statements */\n    _initialize(container) {\n        const { props } = this;\n        const { mapStyle = DEFAULT_STYLE } = props;\n        const mapOptions = {\n            ...props,\n            ...props.initialViewState,\n            accessToken: props.mapboxAccessToken || getAccessTokenFromEnv() || null,\n            container,\n            style: normalizeStyle(mapStyle)\n        };\n        const viewState = mapOptions.initialViewState || mapOptions.viewState || mapOptions;\n        Object.assign(mapOptions, {\n            center: [viewState.longitude || 0, viewState.latitude || 0],\n            zoom: viewState.zoom || 0,\n            pitch: viewState.pitch || 0,\n            bearing: viewState.bearing || 0\n        });\n        if (props.gl) {\n            // eslint-disable-next-line\n            const getContext = HTMLCanvasElement.prototype.getContext;\n            // Hijack canvas.getContext to return our own WebGLContext\n            // This will be called inside the mapboxgl.Map constructor\n            // @ts-expect-error\n            HTMLCanvasElement.prototype.getContext = () => {\n                // Unhijack immediately\n                HTMLCanvasElement.prototype.getContext = getContext;\n                return props.gl;\n            };\n        }\n        const map = new this._MapClass(mapOptions);\n        // Props that are not part of constructor options\n        if (viewState.padding) {\n            map.setPadding(viewState.padding);\n        }\n        if (props.cursor) {\n            map.getCanvas().style.cursor = props.cursor;\n        }\n        this._createShadowTransform(map);\n        // Hack\n        // Insert code into map's render cycle\n        const renderMap = map._render;\n        map._render = (arg) => {\n            this._inRender = true;\n            renderMap.call(map, arg);\n            this._inRender = false;\n        };\n        const runRenderTaskQueue = map._renderTaskQueue.run;\n        map._renderTaskQueue.run = (arg) => {\n            runRenderTaskQueue.call(map._renderTaskQueue, arg);\n            this._onBeforeRepaint();\n        };\n        map.on('render', () => this._onAfterRepaint());\n        // Insert code into map's event pipeline\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        const fireEvent = map.fire;\n        map.fire = this._fireEvent.bind(this, fireEvent);\n        // add listeners\n        map.on('resize', () => {\n            this._renderTransform.resize(map.transform.width, map.transform.height);\n        });\n        map.on('styledata', () => {\n            this._updateStyleComponents(this.props, {});\n            // Projection can be set in stylesheet\n            syncProjection(map.transform, this._renderTransform);\n        });\n        map.on('sourcedata', () => this._updateStyleComponents(this.props, {}));\n        for (const eventName in pointerEvents) {\n            map.on(eventName, this._onPointerEvent);\n        }\n        for (const eventName in cameraEvents) {\n            map.on(eventName, this._onCameraEvent);\n        }\n        for (const eventName in otherEvents) {\n            map.on(eventName, this._onEvent);\n        }\n        this._map = map;\n    }\n    /* eslint-enable complexity,max-statements */\n    recycle() {\n        // Clean up unnecessary elements before storing for reuse.\n        const container = this.map.getContainer();\n        const children = container.querySelector('[mapboxgl-children]');\n        children === null || children === void 0 ? void 0 : children.remove();\n        Mapbox.savedMaps.push(this);\n    }\n    destroy() {\n        this._map.remove();\n    }\n    // Force redraw the map now. Typically resize() and jumpTo() is reflected in the next\n    // render cycle, which is managed by Mapbox's animation loop.\n    // This removes the synchronization issue caused by requestAnimationFrame.\n    redraw() {\n        const map = this._map;\n        // map._render will throw error if style does not exist\n        // https://github.com/mapbox/mapbox-gl-js/blob/fb9fc316da14e99ff4368f3e4faa3888fb43c513\n        //   /src/ui/map.js#L1834\n        if (!this._inRender && map.style) {\n            // cancel the scheduled update\n            if (map._frame) {\n                map._frame.cancel();\n                map._frame = null;\n            }\n            // the order is important - render() may schedule another update\n            map._render();\n        }\n    }\n    _createShadowTransform(map) {\n        const renderTransform = cloneTransform(map.transform);\n        map.painter.transform = renderTransform;\n        this._renderTransform = renderTransform;\n    }\n    /* Trigger map resize if size is controlled\n       @param {object} nextProps\n       @returns {bool} true if size has changed\n     */\n    _updateSize(nextProps) {\n        // Check if size is controlled\n        const { viewState } = nextProps;\n        if (viewState) {\n            const map = this._map;\n            if (viewState.width !== map.transform.width || viewState.height !== map.transform.height) {\n                map.resize();\n                return true;\n            }\n        }\n        return false;\n    }\n    // Adapted from map.jumpTo\n    /* Update camera to match props\n       @param {object} nextProps\n       @param {bool} triggerEvents - should fire camera events\n       @returns {bool} true if anything is changed\n     */\n    _updateViewState(nextProps, triggerEvents) {\n        if (this._internalUpdate) {\n            return false;\n        }\n        const map = this._map;\n        const tr = this._renderTransform;\n        // Take a snapshot of the transform before mutation\n        const { zoom, pitch, bearing } = tr;\n        const isMoving = map.isMoving();\n        if (isMoving) {\n            // All movement of the camera is done relative to the sea level\n            tr.cameraElevationReference = 'sea';\n        }\n        const changed = applyViewStateToTransform(tr, {\n            ...transformToViewState(map.transform),\n            ...nextProps\n        });\n        if (isMoving) {\n            // Reset camera reference\n            tr.cameraElevationReference = 'ground';\n        }\n        if (changed && triggerEvents) {\n            const deferredEvents = this._deferredEvents;\n            // Delay DOM control updates to the next render cycle\n            deferredEvents.move = true;\n            deferredEvents.zoom || (deferredEvents.zoom = zoom !== tr.zoom);\n            deferredEvents.rotate || (deferredEvents.rotate = bearing !== tr.bearing);\n            deferredEvents.pitch || (deferredEvents.pitch = pitch !== tr.pitch);\n        }\n        // Avoid manipulating the real transform when interaction/animation is ongoing\n        // as it would interfere with Mapbox's handlers\n        if (!isMoving) {\n            applyViewStateToTransform(map.transform, nextProps);\n        }\n        return changed;\n    }\n    /* Update camera constraints and projection settings to match props\n       @param {object} nextProps\n       @param {object} currProps\n       @returns {bool} true if anything is changed\n     */\n    _updateSettings(nextProps, currProps) {\n        const map = this._map;\n        let changed = false;\n        for (const propName of settingNames) {\n            if (propName in nextProps && !deepEqual(nextProps[propName], currProps[propName])) {\n                changed = true;\n                const setter = map[`set${propName[0].toUpperCase()}${propName.slice(1)}`];\n                setter === null || setter === void 0 ? void 0 : setter.call(map, nextProps[propName]);\n            }\n        }\n        return changed;\n    }\n    /* Update map style to match props\n       @param {object} nextProps\n       @param {object} currProps\n       @returns {bool} true if style is changed\n     */\n    _updateStyle(nextProps, currProps) {\n        if (nextProps.cursor !== currProps.cursor) {\n            this._map.getCanvas().style.cursor = nextProps.cursor || '';\n        }\n        if (nextProps.mapStyle !== currProps.mapStyle) {\n            const { mapStyle = DEFAULT_STYLE, styleDiffing = true } = nextProps;\n            const options = {\n                diff: styleDiffing\n            };\n            if ('localIdeographFontFamily' in nextProps) {\n                // @ts-ignore Mapbox specific prop\n                options.localIdeographFontFamily = nextProps.localIdeographFontFamily;\n            }\n            this._map.setStyle(normalizeStyle(mapStyle), options);\n            return true;\n        }\n        return false;\n    }\n    /* Update fog, light and terrain to match props\n       @param {object} nextProps\n       @param {object} currProps\n       @returns {bool} true if anything is changed\n     */\n    _updateStyleComponents(nextProps, currProps) {\n        const map = this._map;\n        let changed = false;\n        if (map.isStyleLoaded()) {\n            if ('light' in nextProps && map.setLight && !deepEqual(nextProps.light, currProps.light)) {\n                changed = true;\n                map.setLight(nextProps.light);\n            }\n            if ('fog' in nextProps && map.setFog && !deepEqual(nextProps.fog, currProps.fog)) {\n                changed = true;\n                map.setFog(nextProps.fog);\n            }\n            if ('terrain' in nextProps &&\n                map.setTerrain &&\n                !deepEqual(nextProps.terrain, currProps.terrain)) {\n                if (!nextProps.terrain || map.getSource(nextProps.terrain.source)) {\n                    changed = true;\n                    map.setTerrain(nextProps.terrain);\n                }\n            }\n        }\n        return changed;\n    }\n    /* Update interaction handlers to match props\n       @param {object} nextProps\n       @param {object} currProps\n       @returns {bool} true if anything is changed\n     */\n    _updateHandlers(nextProps, currProps) {\n        var _a, _b;\n        const map = this._map;\n        let changed = false;\n        for (const propName of handlerNames) {\n            const newValue = (_a = nextProps[propName]) !== null && _a !== void 0 ? _a : true;\n            const oldValue = (_b = currProps[propName]) !== null && _b !== void 0 ? _b : true;\n            if (!deepEqual(newValue, oldValue)) {\n                changed = true;\n                if (newValue) {\n                    map[propName].enable(newValue);\n                }\n                else {\n                    map[propName].disable();\n                }\n            }\n        }\n        return changed;\n    }\n    _queryRenderedFeatures(point) {\n        const map = this._map;\n        const tr = map.transform;\n        const { interactiveLayerIds = [] } = this.props;\n        try {\n            map.transform = this._renderTransform;\n            return map.queryRenderedFeatures(point, {\n                layers: interactiveLayerIds.filter(map.getLayer.bind(map))\n            });\n        }\n        catch (_a) {\n            // May fail if style is not loaded\n            return [];\n        }\n        finally {\n            map.transform = tr;\n        }\n    }\n    _updateHover(e) {\n        var _a;\n        const { props } = this;\n        const shouldTrackHoveredFeatures = props.interactiveLayerIds && (props.onMouseMove || props.onMouseEnter || props.onMouseLeave);\n        if (shouldTrackHoveredFeatures) {\n            const eventType = e.type;\n            const wasHovering = ((_a = this._hoveredFeatures) === null || _a === void 0 ? void 0 : _a.length) > 0;\n            const features = this._queryRenderedFeatures(e.point);\n            const isHovering = features.length > 0;\n            if (!isHovering && wasHovering) {\n                e.type = 'mouseleave';\n                this._onPointerEvent(e);\n            }\n            this._hoveredFeatures = features;\n            if (isHovering && !wasHovering) {\n                e.type = 'mouseenter';\n                this._onPointerEvent(e);\n            }\n            e.type = eventType;\n        }\n        else {\n            this._hoveredFeatures = null;\n        }\n    }\n    _fireEvent(baseFire, event, properties) {\n        const map = this._map;\n        const tr = map.transform;\n        const eventType = typeof event === 'string' ? event : event.type;\n        if (eventType === 'move') {\n            this._updateViewState(this.props, false);\n        }\n        if (eventType in cameraEvents) {\n            if (typeof event === 'object') {\n                event.viewState = transformToViewState(tr);\n            }\n            if (this._map.isMoving()) {\n                // Replace map.transform with ours during the callbacks\n                map.transform = this._renderTransform;\n                baseFire.call(map, event, properties);\n                map.transform = tr;\n                return map;\n            }\n        }\n        baseFire.call(map, event, properties);\n        return map;\n    }\n    // All camera manipulations are complete, ready to repaint\n    _onBeforeRepaint() {\n        const map = this._map;\n        // If there are camera changes driven by props, invoke camera events so that DOM controls are synced\n        this._internalUpdate = true;\n        for (const eventType in this._deferredEvents) {\n            if (this._deferredEvents[eventType]) {\n                map.fire(eventType);\n            }\n        }\n        this._internalUpdate = false;\n        const tr = this._map.transform;\n        // Make sure camera matches the current props\n        map.transform = this._renderTransform;\n        this._onAfterRepaint = () => {\n            // Mapbox transitions between non-mercator projection and mercator during render time\n            // Copy it back to the other\n            syncProjection(this._renderTransform, tr);\n            // Restores camera state before render/load events are fired\n            map.transform = tr;\n        };\n    }\n}\nMapbox.savedMaps = [];\n/**\n * Access token can be provided via one of:\n *   mapboxAccessToken prop\n *   access_token query parameter\n *   MapboxAccessToken environment variable\n *   REACT_APP_MAPBOX_ACCESS_TOKEN environment variable\n * @returns access token\n */\nfunction getAccessTokenFromEnv() {\n    let accessToken = null;\n    /* global location, process */\n    if (typeof location !== 'undefined') {\n        const match = /access_token=([^&\\/]*)/.exec(location.search);\n        accessToken = match && match[1];\n    }\n    // Note: This depends on bundler plugins (e.g. webpack) importing environment correctly\n    try {\n        accessToken = accessToken || process.env.MapboxAccessToken;\n    }\n    catch (_a) {\n        // ignore\n    }\n    try {\n        accessToken = accessToken || process.env.REACT_APP_MAPBOX_ACCESS_TOKEN;\n    }\n    catch (_b) {\n        // ignore\n    }\n    return accessToken;\n}\n//# sourceMappingURL=mapbox.js.map","/** These methods may break the react binding if called directly */\nconst skipMethods = [\n    'setMaxBounds',\n    'setMinZoom',\n    'setMaxZoom',\n    'setMinPitch',\n    'setMaxPitch',\n    'setRenderWorldCopies',\n    'setProjection',\n    'setStyle',\n    'addSource',\n    'removeSource',\n    'addLayer',\n    'removeLayer',\n    'setLayerZoomRange',\n    'setFilter',\n    'setPaintProperty',\n    'setLayoutProperty',\n    'setLight',\n    'setTerrain',\n    'setFog',\n    'remove'\n];\nexport default function createRef(mapInstance) {\n    if (!mapInstance) {\n        return null;\n    }\n    const map = mapInstance.map;\n    const result = {\n        getMap: () => map,\n        // Overwrite getters to use our shadow transform\n        getCenter: () => mapInstance.transform.center,\n        getZoom: () => mapInstance.transform.zoom,\n        getBearing: () => mapInstance.transform.bearing,\n        getPitch: () => mapInstance.transform.pitch,\n        getPadding: () => mapInstance.transform.padding,\n        getBounds: () => mapInstance.transform.getBounds(),\n        project: (lnglat) => {\n            const tr = map.transform;\n            map.transform = mapInstance.transform;\n            const result = map.project(lnglat);\n            map.transform = tr;\n            return result;\n        },\n        unproject: (point) => {\n            const tr = map.transform;\n            map.transform = mapInstance.transform;\n            const result = map.unproject(point);\n            map.transform = tr;\n            return result;\n        },\n        // options diverge between mapbox and maplibre\n        queryTerrainElevation: (lnglat, options) => {\n            const tr = map.transform;\n            map.transform = mapInstance.transform;\n            const result = map.queryTerrainElevation(lnglat, options);\n            map.transform = tr;\n            return result;\n        },\n        queryRenderedFeatures: (geometry, options) => {\n            const tr = map.transform;\n            map.transform = mapInstance.transform;\n            const result = map.queryRenderedFeatures(geometry, options);\n            map.transform = tr;\n            return result;\n        }\n    };\n    for (const key of getMethodNames(map)) {\n        // @ts-expect-error\n        if (!(key in result) && !skipMethods.includes(key)) {\n            result[key] = map[key].bind(map);\n        }\n    }\n    return result;\n}\nfunction getMethodNames(obj) {\n    const result = new Set();\n    let proto = obj;\n    while (proto) {\n        for (const key of Object.getOwnPropertyNames(proto)) {\n            if (key[0] !== '_' &&\n                typeof obj[key] === 'function' &&\n                key !== 'fire' &&\n                key !== 'setEventedParent') {\n                result.add(key);\n            }\n        }\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Array.from(result);\n}\n//# sourceMappingURL=create-ref.js.map","// From https://github.com/streamich/react-use/blob/master/src/useIsomorphicLayoutEffect.ts\n// useLayoutEffect but does not trigger warning in server-side rendering\nimport { useEffect, useLayoutEffect } from 'react';\nconst useIsomorphicLayoutEffect = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n//# sourceMappingURL=use-isomorphic-layout-effect.js.map","const globalSettings = [\n    'baseApiUrl',\n    'maxParallelImageRequests',\n    'workerClass',\n    'workerCount',\n    'workerUrl'\n];\nexport default function setGlobals(mapLib, props) {\n    for (const key of globalSettings) {\n        if (key in props) {\n            mapLib[key] = props[key];\n        }\n    }\n    const { RTLTextPlugin = 'https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js' } = props;\n    if (RTLTextPlugin &&\n        mapLib.getRTLTextPluginStatus &&\n        mapLib.getRTLTextPluginStatus() === 'unavailable') {\n        mapLib.setRTLTextPlugin(RTLTextPlugin, (error) => {\n            if (error) {\n                // eslint-disable-next-line\n                console.error(error);\n            }\n        }, true);\n    }\n}\n//# sourceMappingURL=set-globals.js.map","import * as React from 'react';\nimport { useState, useRef, useEffect, useContext, useMemo, useImperativeHandle } from 'react';\nimport { MountedMapsContext } from './use-map';\nimport Mapbox from '../mapbox/mapbox';\nimport createRef from '../mapbox/create-ref';\nimport useIsomorphicLayoutEffect from '../utils/use-isomorphic-layout-effect';\nimport setGlobals from '../utils/set-globals';\nexport const MapContext = React.createContext(null);\nexport default function Map(props, ref, defaultLib) {\n    const mountedMapsContext = useContext(MountedMapsContext);\n    const [mapInstance, setMapInstance] = useState(null);\n    const containerRef = useRef();\n    const { current: contextValue } = useRef({ mapLib: null, map: null });\n    useEffect(() => {\n        const mapLib = props.mapLib;\n        let isMounted = true;\n        let mapbox;\n        Promise.resolve(mapLib || defaultLib)\n            .then((module) => {\n            if (!isMounted) {\n                return;\n            }\n            if (!module) {\n                throw new Error('Invalid mapLib');\n            }\n            const mapboxgl = 'Map' in module ? module : module.default;\n            if (!mapboxgl.Map) {\n                throw new Error('Invalid mapLib');\n            }\n            // workerUrl & workerClass may change the result of supported()\n            // https://github.com/visgl/react-map-gl/discussions/2027\n            setGlobals(mapboxgl, props);\n            if (!mapboxgl.supported || mapboxgl.supported(props)) {\n                if (props.reuseMaps) {\n                    mapbox = Mapbox.reuse(props, containerRef.current);\n                }\n                if (!mapbox) {\n                    mapbox = new Mapbox(mapboxgl.Map, props, containerRef.current);\n                }\n                contextValue.map = createRef(mapbox);\n                contextValue.mapLib = mapboxgl;\n                setMapInstance(mapbox);\n                mountedMapsContext === null || mountedMapsContext === void 0 ? void 0 : mountedMapsContext.onMapMount(contextValue.map, props.id);\n            }\n            else {\n                throw new Error('Map is not supported by this browser');\n            }\n        })\n            .catch(error => {\n            const { onError } = props;\n            if (onError) {\n                onError({\n                    type: 'error',\n                    target: null,\n                    originalEvent: null,\n                    error\n                });\n            }\n            else {\n                console.error(error); // eslint-disable-line\n            }\n        });\n        return () => {\n            isMounted = false;\n            if (mapbox) {\n                mountedMapsContext === null || mountedMapsContext === void 0 ? void 0 : mountedMapsContext.onMapUnmount(props.id);\n                if (props.reuseMaps) {\n                    mapbox.recycle();\n                }\n                else {\n                    mapbox.destroy();\n                }\n            }\n        };\n    }, []);\n    useIsomorphicLayoutEffect(() => {\n        if (mapInstance) {\n            mapInstance.setProps(props);\n        }\n    });\n    useImperativeHandle(ref, () => contextValue.map, [mapInstance]);\n    const style = useMemo(() => ({\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        ...props.style\n    }), [props.style]);\n    const CHILD_CONTAINER_STYLE = {\n        height: '100%'\n    };\n    return (React.createElement(\"div\", { id: props.id, ref: containerRef, style: style }, mapInstance && (React.createElement(MapContext.Provider, { value: contextValue },\n        React.createElement(\"div\", { \"mapboxgl-children\": \"\", style: CHILD_CONTAINER_STYLE }, props.children)))));\n}\n//# sourceMappingURL=map.js.map","// This is a simplified version of\n// https://github.com/facebook/react/blob/4131af3e4bf52f3a003537ec95a1655147c81270/src/renderers/dom/shared/CSSPropertyOperations.js#L62\nconst unitlessNumber = /box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;\nexport function applyReactStyle(element, styles) {\n    if (!element || !styles) {\n        return;\n    }\n    const style = element.style;\n    for (const key in styles) {\n        const value = styles[key];\n        if (Number.isFinite(value) && !unitlessNumber.test(key)) {\n            style[key] = `${value}px`;\n        }\n        else {\n            style[key] = value;\n        }\n    }\n}\n//# sourceMappingURL=apply-react-style.js.map","/* global document */\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport { useImperativeHandle, useEffect, useMemo, useRef, useContext, forwardRef, memo } from 'react';\nimport { applyReactStyle } from '../utils/apply-react-style';\nimport { MapContext } from './map';\nimport { arePointsEqual } from '../utils/deep-equal';\n/* eslint-disable complexity,max-statements */\nfunction Marker(props, ref) {\n    const { map, mapLib } = useContext(MapContext);\n    const thisRef = useRef({ props });\n    thisRef.current.props = props;\n    const marker = useMemo(() => {\n        let hasChildren = false;\n        React.Children.forEach(props.children, el => {\n            if (el) {\n                hasChildren = true;\n            }\n        });\n        const options = {\n            ...props,\n            element: hasChildren ? document.createElement('div') : null\n        };\n        const mk = new mapLib.Marker(options);\n        mk.setLngLat([props.longitude, props.latitude]);\n        mk.getElement().addEventListener('click', (e) => {\n            var _a, _b;\n            (_b = (_a = thisRef.current.props).onClick) === null || _b === void 0 ? void 0 : _b.call(_a, {\n                type: 'click',\n                target: mk,\n                originalEvent: e\n            });\n        });\n        mk.on('dragstart', e => {\n            var _a, _b;\n            const evt = e;\n            evt.lngLat = marker.getLngLat();\n            (_b = (_a = thisRef.current.props).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, evt);\n        });\n        mk.on('drag', e => {\n            var _a, _b;\n            const evt = e;\n            evt.lngLat = marker.getLngLat();\n            (_b = (_a = thisRef.current.props).onDrag) === null || _b === void 0 ? void 0 : _b.call(_a, evt);\n        });\n        mk.on('dragend', e => {\n            var _a, _b;\n            const evt = e;\n            evt.lngLat = marker.getLngLat();\n            (_b = (_a = thisRef.current.props).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, evt);\n        });\n        return mk;\n    }, []);\n    useEffect(() => {\n        marker.addTo(map.getMap());\n        return () => {\n            marker.remove();\n        };\n    }, []);\n    const { longitude, latitude, offset, style, draggable = false, popup = null, rotation = 0, rotationAlignment = 'auto', pitchAlignment = 'auto' } = props;\n    useEffect(() => {\n        applyReactStyle(marker.getElement(), style);\n    }, [style]);\n    useImperativeHandle(ref, () => marker, []);\n    if (marker.getLngLat().lng !== longitude || marker.getLngLat().lat !== latitude) {\n        marker.setLngLat([longitude, latitude]);\n    }\n    if (offset && !arePointsEqual(marker.getOffset(), offset)) {\n        marker.setOffset(offset);\n    }\n    if (marker.isDraggable() !== draggable) {\n        marker.setDraggable(draggable);\n    }\n    if (marker.getRotation() !== rotation) {\n        marker.setRotation(rotation);\n    }\n    if (marker.getRotationAlignment() !== rotationAlignment) {\n        marker.setRotationAlignment(rotationAlignment);\n    }\n    if (marker.getPitchAlignment() !== pitchAlignment) {\n        marker.setPitchAlignment(pitchAlignment);\n    }\n    if (marker.getPopup() !== popup) {\n        marker.setPopup(popup);\n    }\n    return createPortal(props.children, marker.getElement());\n}\nexport default memo(forwardRef(Marker));\n//# sourceMappingURL=marker.js.map","import { createPortal } from 'react-dom';\nimport { useImperativeHandle, useEffect, useMemo, useRef, useContext, forwardRef, memo } from 'react';\nimport { applyReactStyle } from '../utils/apply-react-style';\nimport { MapContext } from './map';\nimport { deepEqual } from '../utils/deep-equal';\n// Adapted from https://github.com/mapbox/mapbox-gl-js/blob/v1.13.0/src/ui/popup.js\nfunction getClassList(className) {\n    return new Set(className ? className.trim().split(/\\s+/) : []);\n}\n/* eslint-disable complexity,max-statements */\nfunction Popup(props, ref) {\n    const { map, mapLib } = useContext(MapContext);\n    const container = useMemo(() => {\n        return document.createElement('div');\n    }, []);\n    const thisRef = useRef({ props });\n    thisRef.current.props = props;\n    const popup = useMemo(() => {\n        const options = { ...props };\n        const pp = new mapLib.Popup(options);\n        pp.setLngLat([props.longitude, props.latitude]);\n        pp.once('open', e => {\n            var _a, _b;\n            (_b = (_a = thisRef.current.props).onOpen) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        });\n        return pp;\n    }, []);\n    useEffect(() => {\n        const onClose = e => {\n            var _a, _b;\n            (_b = (_a = thisRef.current.props).onClose) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        };\n        popup.on('close', onClose);\n        popup.setDOMContent(container).addTo(map.getMap());\n        return () => {\n            // https://github.com/visgl/react-map-gl/issues/1825\n            // onClose should not be fired if the popup is removed by unmounting\n            // When using React strict mode, the component is mounted twice.\n            // Firing the onClose callback here would be a false signal to remove the component.\n            popup.off('close', onClose);\n            if (popup.isOpen()) {\n                popup.remove();\n            }\n        };\n    }, []);\n    useEffect(() => {\n        applyReactStyle(popup.getElement(), props.style);\n    }, [props.style]);\n    useImperativeHandle(ref, () => popup, []);\n    if (popup.isOpen()) {\n        if (popup.getLngLat().lng !== props.longitude || popup.getLngLat().lat !== props.latitude) {\n            popup.setLngLat([props.longitude, props.latitude]);\n        }\n        if (props.offset && !deepEqual(popup.options.offset, props.offset)) {\n            popup.setOffset(props.offset);\n        }\n        if (popup.options.anchor !== props.anchor || popup.options.maxWidth !== props.maxWidth) {\n            popup.options.anchor = props.anchor;\n            popup.setMaxWidth(props.maxWidth);\n        }\n        if (popup.options.className !== props.className) {\n            const prevClassList = getClassList(popup.options.className);\n            const nextClassList = getClassList(props.className);\n            for (const c of prevClassList) {\n                if (!nextClassList.has(c)) {\n                    popup.removeClassName(c);\n                }\n            }\n            for (const c of nextClassList) {\n                if (!prevClassList.has(c)) {\n                    popup.addClassName(c);\n                }\n            }\n            popup.options.className = props.className;\n        }\n    }\n    return createPortal(props.children, container);\n}\nexport default memo(forwardRef(Popup));\n//# sourceMappingURL=popup.js.map","import { useContext, useMemo, useEffect } from 'react';\nimport { MapContext } from './map';\nfunction useControl(onCreate, arg1, arg2, arg3) {\n    const context = useContext(MapContext);\n    const ctrl = useMemo(() => onCreate(context), []);\n    useEffect(() => {\n        const opts = (arg3 || arg2 || arg1);\n        const onAdd = typeof arg1 === 'function' && typeof arg2 === 'function' ? arg1 : null;\n        const onRemove = typeof arg2 === 'function' ? arg2 : typeof arg1 === 'function' ? arg1 : null;\n        const { map } = context;\n        if (!map.hasControl(ctrl)) {\n            map.addControl(ctrl, opts === null || opts === void 0 ? void 0 : opts.position);\n            if (onAdd) {\n                onAdd(context);\n            }\n        }\n        return () => {\n            if (onRemove) {\n                onRemove(context);\n            }\n            // Map might have been removed (parent effects are destroyed before child ones)\n            if (map.hasControl(ctrl)) {\n                map.removeControl(ctrl);\n            }\n        };\n    }, []);\n    return ctrl;\n}\nexport default useControl;\n//# sourceMappingURL=use-control.js.map","import { useEffect, memo } from 'react';\nimport { applyReactStyle } from '../utils/apply-react-style';\nimport useControl from './use-control';\nfunction AttributionControl(props) {\n    const ctrl = useControl(({ mapLib }) => new mapLib.AttributionControl(props), {\n        position: props.position\n    });\n    useEffect(() => {\n        applyReactStyle(ctrl._container, props.style);\n    }, [props.style]);\n    return null;\n}\nexport default memo(AttributionControl);\n//# sourceMappingURL=attribution-control.js.map","import { useEffect, memo } from 'react';\nimport { applyReactStyle } from '../utils/apply-react-style';\nimport useControl from './use-control';\nfunction FullscreenControl(props) {\n    const ctrl = useControl(({ mapLib }) => new mapLib.FullscreenControl({\n        container: props.containerId && document.getElementById(props.containerId)\n    }), { position: props.position });\n    useEffect(() => {\n        applyReactStyle(ctrl._controlContainer, props.style);\n    }, [props.style]);\n    return null;\n}\nexport default memo(FullscreenControl);\n//# sourceMappingURL=fullscreen-control.js.map","import { useImperativeHandle, useRef, useEffect, forwardRef, memo } from 'react';\nimport { applyReactStyle } from '../utils/apply-react-style';\nimport useControl from './use-control';\nfunction GeolocateControl(props, ref) {\n    const thisRef = useRef({ props });\n    const ctrl = useControl(({ mapLib }) => {\n        const gc = new mapLib.GeolocateControl(props);\n        // Hack: fix GeolocateControl reuse\n        // When using React strict mode, the component is mounted twice.\n        // GeolocateControl's UI creation is asynchronous. Removing and adding it back causes the UI to be initialized twice.\n        // @ts-expect-error private method\n        const setupUI = gc._setupUI;\n        // @ts-expect-error private method\n        gc._setupUI = args => {\n            if (!gc._container.hasChildNodes()) {\n                setupUI(args);\n            }\n        };\n        gc.on('geolocate', e => {\n            var _a, _b;\n            (_b = (_a = thisRef.current.props).onGeolocate) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        });\n        gc.on('error', e => {\n            var _a, _b;\n            (_b = (_a = thisRef.current.props).onError) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        });\n        gc.on('outofmaxbounds', e => {\n            var _a, _b;\n            (_b = (_a = thisRef.current.props).onOutOfMaxBounds) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        });\n        gc.on('trackuserlocationstart', e => {\n            var _a, _b;\n            (_b = (_a = thisRef.current.props).onTrackUserLocationStart) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        });\n        gc.on('trackuserlocationend', e => {\n            var _a, _b;\n            (_b = (_a = thisRef.current.props).onTrackUserLocationEnd) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        });\n        return gc;\n    }, { position: props.position });\n    thisRef.current.props = props;\n    useImperativeHandle(ref, () => ctrl, []);\n    useEffect(() => {\n        applyReactStyle(ctrl._container, props.style);\n    }, [props.style]);\n    return null;\n}\nexport default memo(forwardRef(GeolocateControl));\n//# sourceMappingURL=geolocate-control.js.map","import { useEffect, memo } from 'react';\nimport { applyReactStyle } from '../utils/apply-react-style';\nimport useControl from './use-control';\nfunction NavigationControl(props) {\n    const ctrl = useControl(({ mapLib }) => new mapLib.NavigationControl(props), {\n        position: props.position\n    });\n    useEffect(() => {\n        applyReactStyle(ctrl._container, props.style);\n    }, [props.style]);\n    return null;\n}\nexport default memo(NavigationControl);\n//# sourceMappingURL=navigation-control.js.map","import { useEffect, useRef, memo } from 'react';\nimport { applyReactStyle } from '../utils/apply-react-style';\nimport useControl from './use-control';\nfunction ScaleControl(props) {\n    const ctrl = useControl(({ mapLib }) => new mapLib.ScaleControl(props), {\n        position: props.position\n    });\n    const propsRef = useRef(props);\n    const prevProps = propsRef.current;\n    propsRef.current = props;\n    const { style } = props;\n    if (props.maxWidth !== undefined && props.maxWidth !== prevProps.maxWidth) {\n        ctrl.options.maxWidth = props.maxWidth;\n    }\n    if (props.unit !== undefined && props.unit !== prevProps.unit) {\n        ctrl.setUnit(props.unit);\n    }\n    useEffect(() => {\n        applyReactStyle(ctrl._container, style);\n    }, [style]);\n    return null;\n}\nexport default memo(ScaleControl);\n//# sourceMappingURL=scale-control.js.map","import * as React from 'react';\nimport { default as _Map } from './components/map';\nimport { default as _Marker } from './components/marker';\nimport { default as _Popup } from './components/popup';\nimport { default as _AttributionControl } from './components/attribution-control';\nimport { default as _FullscreenControl } from './components/fullscreen-control';\nimport { default as _GeolocateControl } from './components/geolocate-control';\nimport { default as _NavigationControl } from './components/navigation-control';\nimport { default as _ScaleControl } from './components/scale-control';\nimport { default as _Layer } from './components/layer';\nimport { default as _Source } from './components/source';\nimport { useMap as _useMap } from './components/use-map';\nexport function useMap() {\n    return _useMap();\n}\nconst mapLib = import('mapbox-gl');\nexport const Map = (() => {\n    return React.forwardRef(function Map(props, ref) {\n        return _Map(props, ref, mapLib);\n    });\n})();\nexport const Marker = _Marker;\nexport const Popup = _Popup;\nexport const AttributionControl = _AttributionControl;\nexport const FullscreenControl = _FullscreenControl;\nexport const NavigationControl = _NavigationControl;\nexport const GeolocateControl = _GeolocateControl;\nexport const ScaleControl = _ScaleControl;\nexport const Layer = _Layer;\nexport const Source = _Source;\nexport { default as useControl } from './components/use-control';\nexport { MapProvider } from './components/use-map';\nexport default Map;\n// Types\nexport * from './types/public';\nexport * from './types/style-spec-mapbox';\n//# sourceMappingURL=exports-mapbox.js.map","import React, { useState } from 'react';\r\nimport { FaEnvelope, FaPhoneAlt, FaMapMarkerAlt, FaPaperPlane } from 'react-icons/fa';\r\nimport Map from 'react-map-gl';\r\nimport api from '../utils/api';\r\n\r\nconst API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api';\r\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoicmFodWxndG0xMTQiLCJhIjoiY2xzbDR6cHRrMHI3ejJrcGZ0bHFsdXNuZCJ9.eRjSdwJkLlJt0oGdMGDUYw';\r\n\r\nconst Contact = () => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    subject: '',\r\n    message: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(false);\r\n  \r\n  // Define location coordinates for the map\r\n  const mapViewState = {\r\n    longitude: 151.1882, // Artarmon, NSW coordinates\r\n    latitude: -33.8039,\r\n    zoom: 14\r\n  };\r\n  \r\n  // Handle form input changes\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n  \r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Simple validation\r\n    if (!formData.name || !formData.email || !formData.message) {\r\n      setError('Please fill out all required fields');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const response = await api.post('/contact', formData);\r\n      \r\n      if (response.data.success) {\r\n        setSuccess(true);\r\n        setFormData({\r\n          name: '',\r\n          email: '',\r\n          subject: '',\r\n          message: ''\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error('Error sending message:', err);\r\n      setError(err.response?.data?.message || 'Failed to send message. Please try again later.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"min-h-screen pt-32 pb-20\">\r\n      <div className=\"container mx-auto px-4\">\r\n        <h1 className=\"text-4xl font-bold text-center mb-2 text-gray-900 dark:text-white\">\r\n          Contact Me\r\n        </h1>\r\n        <p className=\"text-xl text-center mb-16 text-gray-600 dark:text-gray-400\">\r\n          Get in touch for any questions or opportunities\r\n        </p>\r\n        \r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\r\n          {/* Contact Info */}\r\n          <div>\r\n            <h2 className=\"text-2xl font-semibold mb-6 text-gray-800 dark:text-gray-200\">\r\n              Let's Connect\r\n            </h2>\r\n            \r\n            <div className=\"space-y-6\">\r\n              {/* Email */}\r\n              <div className=\"flex items-start space-x-4\">\r\n                <div className=\"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 flex items-center justify-center mt-1\">\r\n                  <FaEnvelope className=\"w-5 h-5\" />\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">Email</h3>\r\n                  <a href=\"mailto:rahu.gtm114@gmail.com\" className=\"text-gray-600 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400\">\r\n                    rahu.gtm114@gmail.com\r\n                  </a>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Phone */}\r\n              <div className=\"flex items-start space-x-4\">\r\n                <div className=\"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center justify-center mt-1\">\r\n                  <FaPhoneAlt className=\"w-5 h-5\" />\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">Phone</h3>\r\n                  <a href=\"tel:+61452575573\" className=\"text-gray-600 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400\">\r\n                    0452 575 573\r\n                  </a>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Address */}\r\n              <div className=\"flex items-start space-x-4\">\r\n                <div className=\"w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 flex items-center justify-center mt-1\">\r\n                  <FaMapMarkerAlt className=\"w-5 h-5\" />\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">Location</h3>\r\n                  <p className=\"text-gray-600 dark:text-gray-400\">\r\n                    344 Mowbray Road, Artarmon, NSW\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Map */}\r\n            <div className=\"mt-10 h-80 rounded-lg overflow-hidden shadow-md\">\r\n              <Map\r\n                mapboxAccessToken={MAPBOX_TOKEN}\r\n                initialViewState={mapViewState}\r\n                style={{ width: '100%', height: '100%' }}\r\n                mapStyle=\"mapbox://styles/mapbox/streets-v11\"\r\n              >\r\n                {/* Map Marker - Updated to use our CSS classes */}\r\n                <div \r\n                  className=\"absolute map-marker\"\r\n                  style={{ \r\n                    left: '50%', \r\n                    top: '50%', \r\n                    transform: 'translate(-50%, -100%)' \r\n                  }}\r\n                />\r\n              </Map>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Contact Form */}\r\n          <div>\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-8\">\r\n              <h2 className=\"text-2xl font-semibold mb-6 text-gray-800 dark:text-gray-200\">\r\n                Send Me a Message\r\n              </h2>\r\n              \r\n              {success ? (\r\n                <div className=\"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 p-4 rounded-lg mb-6\">\r\n                  <p>Thank you for your message! I'll get back to you as soon as possible.</p>\r\n                </div>\r\n              ) : (\r\n                <form onSubmit={handleSubmit}>\r\n                  {error && (\r\n                    <div className=\"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 p-4 rounded-lg mb-6\">\r\n                      <p>{error}</p>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {/* Name */}\r\n                  <div className=\"mb-6\">\r\n                    <label htmlFor=\"name\" className=\"block text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Name\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"name\"\r\n                      name=\"name\"\r\n                      value={formData.name}\r\n                      onChange={handleChange}\r\n                      className=\"input\"\r\n                      placeholder=\"Your name\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  \r\n                  {/* Email */}\r\n                  <div className=\"mb-6\">\r\n                    <label htmlFor=\"email\" className=\"block text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Email\r\n                    </label>\r\n                    <input\r\n                      type=\"email\"\r\n                      id=\"email\"\r\n                      name=\"email\"\r\n                      value={formData.email}\r\n                      onChange={handleChange}\r\n                      className=\"input\"\r\n                      placeholder=\"Your email address\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  \r\n                  {/* Subject */}\r\n                  <div className=\"mb-6\">\r\n                    <label htmlFor=\"subject\" className=\"block text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Subject\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"subject\"\r\n                      name=\"subject\"\r\n                      value={formData.subject}\r\n                      onChange={handleChange}\r\n                      className=\"input\"\r\n                      placeholder=\"Subject of your message\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  \r\n                  {/* Message */}\r\n                  <div className=\"mb-6\">\r\n                    <label htmlFor=\"message\" className=\"block text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Message\r\n                    </label>\r\n                    <textarea\r\n                      id=\"message\"\r\n                      name=\"message\"\r\n                      value={formData.message}\r\n                      onChange={handleChange}\r\n                      className=\"textarea\"\r\n                      placeholder=\"Your message\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  \r\n                  {/* Submit Button */}\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={loading}\r\n                    className={`w-full btn btn-primary py-3 flex items-center justify-center gap-2 ${\r\n                      loading ? 'opacity-70 cursor-not-allowed' : ''\r\n                    }`}\r\n                  >\r\n                    {loading ? (\r\n                      <>Processing...</>\r\n                    ) : (\r\n                      <>\r\n                        <FaPaperPlane /> Send Message\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </form>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Contact; "],"file":"assets/Contact-DdtsdE-2.js"}