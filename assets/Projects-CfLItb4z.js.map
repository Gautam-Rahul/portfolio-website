{"version":3,"file":"Projects-CfLItb4z.js","sources":["../../src/pages/Projects.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { FaGithub, FaExternalLinkAlt, FaSearch } from 'react-icons/fa';\r\nimport Loader from '../components/Loader';\r\nimport api, { getApiUrl } from '../utils/api';\r\nimport { getFileUrl } from '../utils/fileHelper';\r\n\r\n// Get the API URL for this component\r\nconst API_URL = getApiUrl();\r\nconsole.log('Projects component using API URL:', API_URL);\r\n\r\nconst Projects = () => {\r\n  const [projects, setProjects] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filter, setFilter] = useState('all');\r\n  \r\n  // Fetch projects from API\r\n  useEffect(() => {\r\n    const fetchProjects = async () => {\r\n      try {\r\n        setLoading(true);\r\n        console.log('Fetching projects from:', `${API_URL}/projects`);\r\n        const { data } = await api.get('/projects');\r\n        \r\n        if (data.success) {\r\n          setProjects(data.projects);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching projects:', err);\r\n        setError('Failed to load projects. Please try again later.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchProjects();\r\n  }, []);\r\n  \r\n  // Get unique technologies from all projects\r\n  const getAllTechnologies = () => {\r\n    const techSet = new Set();\r\n    projects.forEach(project => {\r\n      project.technologies.forEach(tech => techSet.add(tech));\r\n    });\r\n    return ['all', ...Array.from(techSet)];\r\n  };\r\n  \r\n  // Filter projects by search term and tech filter\r\n  const filteredProjects = projects.filter(project => {\r\n    const matchesSearch = project.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         project.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         project.technologies.some(tech => tech.toLowerCase().includes(searchTerm.toLowerCase()));\r\n    \r\n    const matchesFilter = filter === 'all' || project.technologies.includes(filter);\r\n    \r\n    return matchesSearch && matchesFilter;\r\n  });\r\n  \r\n  if (loading) return <Loader size=\"large\" />;\r\n  \r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen pt-32 pb-20\">\r\n        <div className=\"container mx-auto px-4\">\r\n          <div className=\"text-center\">\r\n            <h2 className=\"text-2xl font-bold text-red-500 mb-4\">Error</h2>\r\n            <p className=\"text-gray-600 dark:text-gray-400\">{error}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <div className=\"min-h-screen pt-32 pb-20\">\r\n      <div className=\"container mx-auto px-4\">\r\n        <h1 className=\"text-4xl font-bold text-center mb-2 text-gray-900 dark:text-white\">\r\n          My Projects\r\n        </h1>\r\n        <p className=\"text-xl text-center mb-12 text-gray-600 dark:text-gray-400\">\r\n          Explore some of the projects I've worked on\r\n        </p>\r\n        \r\n        {/* Filters and Search */}\r\n        <div className=\"mb-12 flex flex-col md:flex-row justify-between gap-6\">\r\n          {/* Technology Filter */}\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {getAllTechnologies().map((tech, index) => (\r\n              <button\r\n                key={index}\r\n                onClick={() => setFilter(tech)}\r\n                className={`px-4 py-2 rounded-full text-sm font-medium transition-colors ${\r\n                  filter === tech\r\n                    ? 'bg-blue-500 text-white'\r\n                    : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600'\r\n                }`}\r\n              >\r\n                {tech.charAt(0).toUpperCase() + tech.slice(1)}\r\n              </button>\r\n            ))}\r\n          </div>\r\n          \r\n          {/* Search */}\r\n          <div className=\"relative\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search projects...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"pl-10 pr-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 w-full md:w-64 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n            <FaSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Projects Grid */}\r\n        {filteredProjects.length > 0 ? (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n            {filteredProjects.map((project) => (\r\n              <ProjectCard key={project._id} project={project} />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-20\">\r\n            <p className=\"text-xl text-gray-600 dark:text-gray-400\">\r\n              No projects match your search criteria.\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ProjectCard = ({ project }) => {\r\n  const { title, description, imageUrl, liveLink, repoLink, technologies } = project;\r\n  \r\n  // Generate the correct image URL using the fileHelper\r\n  const getImageUrl = (url) => {\r\n    if (url.startsWith('http')) {\r\n      return url; // Already an absolute URL\r\n    }\r\n    return getFileUrl(url); // Use fileHelper for relative URLs\r\n  };\r\n  \r\n  return (\r\n    <div className=\"card overflow-hidden bg-white dark:bg-gray-700 rounded-xl group transition-all duration-300 hover:shadow-lg dark:hover:shadow-gray-700/40 h-full flex flex-col\">\r\n      {/* Image */}\r\n      <div className=\"relative overflow-hidden h-56\">\r\n        <img\r\n          src={getImageUrl(imageUrl)}\r\n          alt={title}\r\n          className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110\"\r\n        />\r\n        \r\n        {/* Overlay with links */}\r\n        <div className=\"absolute inset-0 bg-black/70 opacity-0 group-hover:opacity-100 flex items-center justify-center gap-4 transition-opacity duration-300\">\r\n          {liveLink && (\r\n            <a\r\n              href={liveLink}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"w-12 h-12 rounded-full bg-white flex items-center justify-center text-gray-900 hover:bg-blue-500 hover:text-white transition-colors duration-300\"\r\n              aria-label=\"View Live Site\"\r\n            >\r\n              <FaExternalLinkAlt />\r\n            </a>\r\n          )}\r\n          \r\n          {repoLink && (\r\n            <a\r\n              href={repoLink}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"w-12 h-12 rounded-full bg-white flex items-center justify-center text-gray-900 hover:bg-blue-500 hover:text-white transition-colors duration-300\"\r\n              aria-label=\"View Source Code\"\r\n            >\r\n              <FaGithub />\r\n            </a>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Content */}\r\n      <div className=\"p-6 flex-1 flex flex-col\">\r\n        <h3 className=\"text-xl font-bold mb-2 text-gray-900 dark:text-white\">{title}</h3>\r\n        <p className=\"text-gray-600 dark:text-gray-300 mb-4 flex-1\">\r\n          {description.length > 120 ? `${description.substring(0, 120)}...` : description}\r\n        </p>\r\n        \r\n        {/* Technologies */}\r\n        <div className=\"flex flex-wrap gap-2 mt-auto\">\r\n          {technologies.map((tech, index) => (\r\n            <span\r\n              key={index}\r\n              className=\"px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-xs rounded\"\r\n            >\r\n              {tech}\r\n            </span>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Projects; "],"names":["API_URL","getApiUrl","Projects","projects","setProjects","useState","loading","setLoading","error","setError","searchTerm","setSearchTerm","filter","setFilter","useEffect","data","api","err","getAllTechnologies","techSet","project","tech","filteredProjects","matchesSearch","matchesFilter","jsx","Loader","jsxs","index","e","FaSearch","ProjectCard","title","description","imageUrl","liveLink","repoLink","technologies","getImageUrl","url","getFileUrl","FaExternalLinkAlt","FaGithub"],"mappings":"gGAOA,MAAMA,EAAUC,EAAU,EAC1B,QAAQ,IAAI,oCAAqCD,CAAO,EAExD,MAAME,EAAW,IAAM,CACrB,KAAM,CAACC,EAAUC,CAAW,EAAIC,EAAAA,SAAS,CAAA,CAAE,EACrC,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAACG,EAAOC,CAAQ,EAAIJ,EAAAA,SAAS,IAAI,EACjC,CAACK,EAAYC,CAAa,EAAIN,EAAAA,SAAS,EAAE,EACzC,CAACO,EAAQC,CAAS,EAAIR,EAAAA,SAAS,KAAK,EAG1CS,EAAAA,UAAU,IAAM,EACQ,SAAY,CAC5B,GAAA,CACFP,EAAW,EAAI,EACf,QAAQ,IAAI,0BAA2B,GAAGP,CAAO,WAAW,EAC5D,KAAM,CAAE,KAAAe,CAAK,EAAI,MAAMC,EAAI,IAAI,WAAW,EAEtCD,EAAK,SACPX,EAAYW,EAAK,QAAQ,QAEpBE,EAAK,CACJ,QAAA,MAAM,2BAA4BA,CAAG,EAC7CR,EAAS,kDAAkD,CAAA,QAC3D,CACAF,EAAW,EAAK,CAAA,CAEpB,GAEc,CAChB,EAAG,EAAE,EAGL,MAAMW,EAAqB,IAAM,CACzB,MAAAC,MAAc,IACpB,OAAAhB,EAAS,QAAmBiB,GAAA,CAC1BA,EAAQ,aAAa,QAAQC,GAAQF,EAAQ,IAAIE,CAAI,CAAC,CAAA,CACvD,EACM,CAAC,MAAO,GAAG,MAAM,KAAKF,CAAO,CAAC,CACvC,EAGMG,EAAmBnB,EAAS,OAAkBiB,GAAA,CAClD,MAAMG,EAAgBH,EAAQ,MAAM,YAAc,EAAA,SAASV,EAAW,YAAa,CAAA,GAC9DU,EAAQ,YAAY,YAAc,EAAA,SAASV,EAAW,YAAa,CAAA,GACnEU,EAAQ,aAAa,KAAKC,GAAQA,EAAK,YAAA,EAAc,SAASX,EAAW,YAAa,CAAA,CAAC,EAEtGc,EAAgBZ,IAAW,OAASQ,EAAQ,aAAa,SAASR,CAAM,EAE9E,OAAOW,GAAiBC,CAAA,CACzB,EAED,OAAIlB,EAAiBmB,EAAA,IAAAC,EAAA,CAAO,KAAK,QAAQ,EAErClB,EAEAiB,EAAAA,IAAC,MAAI,CAAA,UAAU,2BACb,SAAAA,EAAAA,IAAC,MAAI,CAAA,UAAU,yBACb,SAAAE,EAAA,KAAC,MAAI,CAAA,UAAU,cACb,SAAA,CAACF,EAAA,IAAA,KAAA,CAAG,UAAU,uCAAuC,SAAK,QAAA,EACzDA,EAAA,IAAA,IAAA,CAAE,UAAU,mCAAoC,SAAMjB,CAAA,CAAA,CAAA,CACzD,CAAA,CACF,CAAA,EACF,QAKD,MAAI,CAAA,UAAU,2BACb,SAACmB,EAAA,KAAA,MAAA,CAAI,UAAU,yBACb,SAAA,CAACF,EAAA,IAAA,KAAA,CAAG,UAAU,oEAAoE,SAElF,cAAA,EACCA,EAAA,IAAA,IAAA,CAAE,UAAU,6DAA6D,SAE1E,8CAAA,EAGAE,EAAAA,KAAC,MAAI,CAAA,UAAU,wDAEb,SAAA,CAACF,EAAAA,IAAA,MAAA,CAAI,UAAU,uBACZ,SAAAP,EAAA,EAAqB,IAAI,CAACG,EAAMO,IAC/BH,EAAA,IAAC,SAAA,CAEC,QAAS,IAAMZ,EAAUQ,CAAI,EAC7B,UAAW,gEACTT,IAAWS,EACP,yBACA,wGACN,GAEC,SAAAA,EAAK,OAAO,CAAC,EAAE,cAAgBA,EAAK,MAAM,CAAC,CAAA,EARvCO,CAUR,CAAA,EACH,EAGAD,EAAAA,KAAC,MAAI,CAAA,UAAU,WACb,SAAA,CAAAF,EAAA,IAAC,QAAA,CACC,KAAK,OACL,YAAY,qBACZ,MAAOf,EACP,SAAWmB,GAAMlB,EAAckB,EAAE,OAAO,KAAK,EAC7C,UAAU,sMAAA,CACZ,EACAJ,EAAAA,IAACK,EAAS,CAAA,UAAU,kEAAmE,CAAA,CAAA,CACzF,CAAA,CAAA,EACF,EAGCR,EAAiB,OAAS,EACzBG,EAAA,IAAC,MAAI,CAAA,UAAU,uDACZ,SAAAH,EAAiB,IAAKF,GACrBK,EAAAA,IAACM,EAA8B,CAAA,QAAAX,CAAA,EAAbA,EAAQ,GAAuB,CAClD,CAAA,CACH,EAEAK,EAAA,IAAC,MAAI,CAAA,UAAU,oBACb,SAAAA,EAAA,IAAC,IAAE,CAAA,UAAU,2CAA2C,SAAA,yCAAA,CAExD,CACF,CAAA,CAAA,CAAA,CAEJ,CACF,CAAA,CAEJ,EAEMM,EAAc,CAAC,CAAE,QAAAX,KAAc,CACnC,KAAM,CAAE,MAAAY,EAAO,YAAAC,EAAa,SAAAC,EAAU,SAAAC,EAAU,SAAAC,EAAU,aAAAC,GAAiBjB,EAGrEkB,EAAeC,GACfA,EAAI,WAAW,MAAM,EAChBA,EAEFC,EAAWD,CAAG,EAIrB,OAAAZ,EAAA,KAAC,MAAI,CAAA,UAAU,iKAEb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,gCACb,SAAA,CAAAF,EAAA,IAAC,MAAA,CACC,IAAKa,EAAYJ,CAAQ,EACzB,IAAKF,EACL,UAAU,oFAAA,CACZ,EAGAL,EAAAA,KAAC,MAAI,CAAA,UAAU,wIACZ,SAAA,CACCQ,GAAAV,EAAA,IAAC,IAAA,CACC,KAAMU,EACN,OAAO,SACP,IAAI,sBACJ,UAAU,mJACV,aAAW,iBAEX,eAACM,EAAkB,CAAA,CAAA,CAAA,CACrB,EAGDL,GACCX,EAAA,IAAC,IAAA,CACC,KAAMW,EACN,OAAO,SACP,IAAI,sBACJ,UAAU,mJACV,aAAW,mBAEX,eAACM,EAAS,CAAA,CAAA,CAAA,CAAA,CACZ,CAEJ,CAAA,CAAA,EACF,EAGAf,EAAAA,KAAC,MAAI,CAAA,UAAU,2BACb,SAAA,CAACF,EAAA,IAAA,KAAA,CAAG,UAAU,uDAAwD,SAAMO,EAAA,EAC3EP,EAAA,IAAA,IAAA,CAAE,UAAU,+CACV,WAAY,OAAS,IAAM,GAAGQ,EAAY,UAAU,EAAG,GAAG,CAAC,MAAQA,EACtE,EAGAR,EAAAA,IAAC,OAAI,UAAU,+BACZ,WAAa,IAAI,CAACJ,EAAMO,IACvBH,EAAA,IAAC,OAAA,CAEC,UAAU,0FAET,SAAAJ,CAAA,EAHIO,CAAA,CAKR,CACH,CAAA,CAAA,CACF,CAAA,CAAA,EACF,CAEJ"}